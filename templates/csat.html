{% extends "base.html" %} {% block title %}CSAT Notes - UPSC Aspirant{% endblock
%} {% block styles %}
<style>
  .topic-card {
    width: 30vw;
    max-width: 280px;
    min-width: 220px;
    height: calc(30vw * 0.65);
    max-height: 180px;
    min-height: 140px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin: 0 auto;
  }
  .topic-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
  }
  .topic-icon {
    font-size: 2.2rem;
    margin-bottom: 0.6rem;
  }
  .topic-title {
    font-size: 1.1rem;
    font-weight: 700;
    letter-spacing: 0.04em;
    text-align: center;
  }
</style>

<div class="container mx-auto px-4 py-32">
  <!-- Header with back button -->
  <div class="flex items-center justify-between flex-wrap mb-10">
    <div class="flex items-center space-x-16">
      <a
        href="/dashboard"
        class="w-12 h-12 bg-white text-purple-600 hover:bg-purple-200 rounded-full flex items-center justify-center shadow transition-colors"
        title="Back"
      >
        <i class="fas fa-arrow-left text-xl"></i>
      </a>
      <h1 class="text-3xl md:text-4xl font-bold text-gray-800">CSAT Notes</h1>
    </div>
  </div>

  <!-- Category Grid -->
  <div
    class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 gap-6 justify-center"
  >
    {% for category in csat_data %} {% set safe_id = category.lower().replace('
    ', '_').replace('*', '').replace('.', '') %} {% set icon = "" %} {% if
    "logical" in category.lower() %} {% set icon = "üß†" %} {% elif "numeracy" in
    category.lower() %} {% set icon = "‚ûó" %} {% elif "reading" in
    category.lower() %} {% set icon = "üìñ" %} {% elif "data" in category.lower()
    %} {% set icon = "üìä" %} {% elif "advanced" in category.lower() %} {% set
    icon = "üìê" %} {% elif "miscellaneous" in category.lower() %} {% set icon =
    "üß©" %} {% else %} {% set icon = "üìö" %} {% endif %}

    <div
      class="topic-card bg-white rounded-xl shadow-md overflow-hidden"
      onclick="showTopics('{{ safe_id }}')"
    >
      <div
        class="bg-white text-purple-900 hover:bg-purple-100 border-2 rounded-xl border-purple-300 p-5 flex flex-col items-center justify-center h-full"
      >
        <div class="topic-icon">{{ icon }}</div>
        <div class="topic-title">{{ category }}</div>
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- Topics Content Section -->
  {% for category, topics in csat_data.items() %} {% set safe_id =
  category.lower().replace(' ', '_').replace('*', '').replace('.', '') %}
  <div id="{{ safe_id }}" class="topics hidden mt-16">
    <div class="bg-white p-6 rounded-xl shadow-xl border-l-8 border-purple-400">
      <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b pb-2">
        {{ category }}
      </h2>
      <ul class="space-y-4">
        {% for topic, url in topics.items() %} {% if url %}
        <li>
          <a
            href="{{ url }}"
            target="_blank"
            class="block bg-purple-50 hover:bg-purple-100 border border-purple-200 hover:border-purple-400 text-purple-900 px-5 py-3 rounded-lg shadow-sm transition duration-200 font-medium"
          >
            üìò {{ topic }}
          </a>
        </li>
        {% else %}
        <li class="text-gray-500 italic">üìÑ {{ topic }} (Coming Soon)</li>
        {% endif %} {% endfor %}
      </ul>
    </div>
  </div>
  {% endfor %}
</div>

<script>
  function showTopics(categoryId) {
    const topicsDivs = document.querySelectorAll(".topics");
    topicsDivs.forEach((div) => (div.style.display = "none"));
    const target = document.getElementById(categoryId);
    if (target) {
      target.style.display = "block";
      window.scrollTo({
        top: target.offsetTop - 80,
        behavior: "smooth",
      });
    }
  }
</script>
{% endblock %}
